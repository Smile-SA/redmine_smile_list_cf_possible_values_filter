<%
  # Smile specific #113099 Possibilité de cacher par défaut des valeurs de champ personnalisés
  # - hidden_values
  # - hidden_values_projects_exclusions
-%>
<p>
  <%= f.text_area :possible_values, :value => @custom_field.possible_values.to_a.join("\n"), :rows => 15 %>
  <em class="info"><%= l(:text_custom_field_possible_values_info) %></em>
</p>
<p><%= f.text_field(:default_value) %></p>
<p><%= f.text_field :url_pattern, :size => 50, :label => :label_link_values_to %></p>
<p><%= edit_tag_style_tag f %></p>
<%
    ################
    # Smile specific #113099 Possibilité de cacher par défaut des valeurs de champ personnalisés
    # 1/  Smile specific : hidden_values
    if (
      @custom_field.class.instance_methods.include?(:possible_values_unfiltered) &&
      @custom_field.class.instance_methods.include?(:hidden_values)
    )
      hidden_values_arr = @custom_field.hidden_values
      if hidden_values_arr.is_a?(String)
        hidden_values_arr = hidden_values_arr.split("\n") 
      else
        hidden_values_arr = hidden_values_arr.to_a
      end
-%>
<p>
  <%= f.text_area :hidden_values, :value => hidden_values_arr.join("\n"), :rows => 15 %>
  <em class="info"><%= l(:text_custom_field_possible_values_info) %></em>
</p>
<%  end -%>
<%
    # 2/ Smile specific : hidden_values_projects_exclusions
    if (
      @custom_field.class.instance_methods.include?(:possible_values_unfiltered) &&
      @custom_field.class.instance_methods.include?(:hidden_values_projects_exclusions)
    )
      hidden_values_projects_exclusions_arr = @custom_field.hidden_values_projects_exclusions
      if hidden_values_projects_exclusions_arr.is_a?(String)
        hidden_values_projects_exclusions_arr = hidden_values_projects_exclusions_arr.split("\n") 
      else
        hidden_values_projects_exclusions_arr = hidden_values_projects_exclusions_arr.to_a
      end
-%>
<p>
  <%= f.text_area :hidden_values_projects_exclusions, :value => hidden_values_projects_exclusions_arr.join("\n"), :rows => 15 %>
  <em class="info"><%= l(:text_custom_field_possible_values_info) %></em>
</p>
<%   end
    # END -- Smile specific #113099 Possibilité de cacher par défaut des valeurs de champ personnalisés
    #######################
-%>
